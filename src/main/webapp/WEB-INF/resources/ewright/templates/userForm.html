<div>
    <form class="form-horizontal" role="form" name="form" novalidate>
        <div class="modal-header">
            <h3 class="modal-title" ng-show="model.newuser">New User</h3>

            <h3 class="modal-title" ng-hide="model.newuser">Edit User</h3>
        </div>
        <div class="modal-body">


            <fieldset>

                <!-- Text input-->
                <div class="form-group">
                    <label class="col-sm-2 control-label">Username</label>

                    <div class="col-sm-10">
                        <input type="text" name="name" placeholder="Username" class="form-control"
                               ng-model="user.username" username default-username="{{refUser.username}}" required>
                        <span ng-show="form.name.$pending.username">Checking username availability...</span>
                        <span style="color:red"
                              ng-show="form.name.$error.username">This username is already taken!</span>

                         <span style="color:red" ng-show="form.name.$dirty && form.name.$invalid">
                              <span ng-show="form.name.$error.required">Username is required.</span>
                        </span>
                        <!--</span>-->
                    </div>
                </div>

                <!-- Text input-->
                <div class="form-group">
                    <label class="col-sm-2 control-label">Name</label>

                    <div class="col-sm-10">
                        <input type="text" placeholder="First Name" class="form-control" ng-model="user.firstname"
                               name="firstname" required>
                         <span style="color:red" ng-show="form.firstname.$dirty && form.firstname.$invalid">
                        <span ng-show="form.firstname.$error.required">Name is required.</span>
                             </span>
                    </div>
                </div>

                <!-- Text input-->
                <div class="form-group">
                    <label class="col-sm-2 control-label">Surname</label>

                    <div class="col-sm-10">
                        <input type="text" placeholder="Surname" class="form-control" ng-model="user.surname"
                               name="surname" required>
                          <span style="color:red" ng-show="form.surname.$dirty && form.surname.$invalid">
                        <span ng-show="form.surname.$error.required">Surname is required.</span>
                             </span>
                    </div>
                </div>

                <!-- Text input-->
                <div class="form-group">
                    <label class="col-sm-2 control-label">E-mail</label>

                    <div class="col-sm-10">
                        <input type="email" placeholder="E-mail" class="form-control" ng-model="user.email" name="email"
                               required>
                        <span style="color:red" ng-show="form.email.$dirty && form.email.$invalid">
                          <span ng-show="form.email.$error.required">Email is required.</span>
                            <span ng-show="form.email.$error.email">Invalid email address.</span>
                        </span>
                    </div>
                </div>

                <!-- Text input-->
                <div class="form-group">
                    <label class="col-sm-2 control-label">Role</label>

                    <div class="col-sm-10">
                        <!--<input type="text" placeholder="Role" class="form-control" ng-model="user.role">-->
                        <select class="form-control" ng-model="user.role" name="role" required>
                            <option>ADMINISTRATOR</option>
                            <option>OPERATOR</option>
                            <option>CONTROLLER</option>
                        </select>
                         <span style="color:red" ng-show="form.role.$dirty && form.role.$invalid">
                          <span ng-show="form.role.$error.required">Role is required.</span>
                        </span>
                    </div>
                </div>

            </fieldset>
        </div>
        <div class="modal-footer">
            <div class="form-group">
                <div class="col-sm-2">
                    <div class="pull-left">


                       <button ng-hide="model.newuser" ng-show="!user.removed" type="submit" class="btn btn-danger" ng-click="delete()">Delete
                            Record
                        </button>

                        <button ng-hide="model.newuser"  ng-show="user.removed"type="submit" class="btn btn-success" ng-click="restore()">Restore
                            Record
                        </button>


                    </div>

                </div>
                <div class="col-sm-10">
                    <div class="pull-right">
                        <button ng-hide="model.newuser" type="submit" class="btn btn-warning"
                                ng-click="resetPassword()">Reset Password
                        </button>
                        <button ng-hide="model.newuser" type="submit" class="btn btn-primary" ng-click="update()"
                                ng-disabled="form.$invalid"> Update
                            Record
                        </button>
                        <button ng-show="model.newuser" type="submit" class="btn btn-primary" ng-click="create()"
                                ng-disabled="form.$invalid">Create
                            Record
                        </button>
                        <button type="submit" class="btn btn-default" ng-click="cancel()">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>